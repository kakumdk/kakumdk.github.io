<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Basic -->
    <meta charset="utf-8">
    <meta http-equiv="content-language" content="en" />

    <!-- Mobile Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Site Metas -->
    <title>Drupal7 Simple Test case in Custom Module - Drupal Blogs | People&#039;s BLOG</title>
    <meta name="description" content="Why to write test case? Very simple, in one word, Its waste of time and effort of checking something we changed in code and that effects other part, and to make sure every time what change we make that should not effect any other code, so this task can be done by our test cases">
    <meta name="author" content="People&#039;s BLOG">
    <link rel="canonical" href="https://peoplesblog.co.in/blogs/Sci-Tech/Drupal/2015-07-12-drupal7-simple-test-case-custom-module.html" />
    <link rel="shortlink" href="https://peoplesblog.co.in/blogs/Sci-Tech/Drupal/2015-07-12-drupal7-simple-test-case-custom-module.html" />
    <link rel="revision" href="https://peoplesblog.co.in/blogs/Sci-Tech/Drupal/2015-07-12-drupal7-simple-test-case-custom-module.html" />
    <meta name="robots" content="index, follow">
    <meta name="icbm" content="13.1071,77.5931" />
    <meta name="geo.region" content="IN" />
    <meta name="geo.placename" content="Bangalore" />
    <meta name="geo.position" content="13.1071,77.5931" />
    <meta name="Generator" content="People&#039;s BLOGs (https://peoplesblog.co.in)" />
    <meta name="MobileOptimized" content="width" />
    <meta name="HandheldFriendly" content="true" />
    <meta property="og:type" content="profile" />
    <meta property="og:title" content="Drupal7 Simple Test case in Custom Module - Drupal Blogs | People&#039;s BLOG" />
    <meta property="og:description" content="Why to write test case? Very simple, in one word, Its waste of time and effort of checking something we changed in code and that effects other part, and to make sure every time what change we make that should not effect any other code, so this task can be done by our test cases" />
    <meta property="og:url" content="https://peoplesblog.co.in/blogs/Sci-Tech/Drupal/2015-07-12-drupal7-simple-test-case-custom-module.html" />
    <meta property="og:image" content="https://peoplesblog.co.in/upload/banner788x443/public/testcase.jpg" />
    <meta name="twitter:title" content="Drupal7 Simple Test case in Custom Module - Drupal Blogs | People&#039;s BLOG">
    <meta name="twitter:description" content="Why to write test case? Very simple, in one word, Its waste of time and effort of checking something we changed in code and that effects other part, and to make sure every time what change we make that should not effect any other code, so this task can be done by our test cases">
    <meta name="twitter:image" content="https://peoplesblog.co.in/upload/banner788x443/public/testcase.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="google-site-verification" content="oIpwGHdguWnER2N8lKSljpYFSSUvg8A-sFzQkn-xLnU" />

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-3RSZRK91SH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag("js", new Date());
        gtag("config", "G-3RSZRK91SH");
    </script>
    <!-- Global site tag (gtag.js) - Google Analytics -->

    <!-- Site Icons -->
    <link rel="shortcut icon" href="../../../upload/favicon.webp" type="image/x-icon" />
    <link rel="apple-touch-icon" href="../../../upload/favicon.webp">

    <!-- Design fonts -->
    <link href="https://fonts.googleapis.com/css?family=Poppins:300,400,500,600,700" rel="stylesheet">

    <!-- Bootstrap core CSS -->
    <link href="../../../css/bootstrap.css" rel="stylesheet">

    <!-- FontAwesome Icons core CSS -->
    <link href="../../../css/font-awesome.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="../../../css/style.css" rel="stylesheet">

    <!-- Responsive styles for this template -->
    <link href="../../../css/responsive.css" rel="stylesheet">

    <!-- Colors for this template -->
    <link href="../../../css/colors.css" rel="stylesheet">

    <!-- Version Tech CSS for this template -->
    <link href="../../../css/version/tech.css" rel="stylesheet">

    <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
    <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "BlogPosting",
        "mainEntityOfPage": {
          "@type": "WebPage",
          "@id": "https://peoplesblog.co.in/blogs/Sci-Tech/Drupal/index.html"
        },
        "headline": "Drupal7 Simple Test case in Custom Module",
        "description": "Why to write test case? Very simple, in one word, Its waste of time and effort of checking something we changed in code and that effects other part, and to make sure every time what change we make that should not effect any other code, so this task can be done by our test cases",
        "image": "https://peoplesblog.co.in/upload/banner788x443/public/testcase.jpg",
        "author": {
          "@type": "Person",
          "name": "Karthik"
        },
        "publisher": {
          "@type": "Organization",
          "name": "People&#039;s BLOG",
          "logo": {
            "@type": "ImageObject",
            "url": "https://peoplesblog.co.in/upload/favicon.webp"
          }
        },
        "datePublished": "12 Jul, 2015",
        "dateModified": "12 Jul, 2015"
      }
    </script>

</head>
<body>
    <div id="wrapper">
        <div id="top-bar" class="top-bar"></div>
        <header class="tech-header header">
        <div class="container-fluid">
            <nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse">
                <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
                <a class="navbar-brand" href="/"><img loading="lazy" alt="People&#039;s BLOG" src="../../../upload/logo_new.webp"></a>
                <div class="collapse navbar-collapse" id="navbarCollapse">
                    <ul class="navbar-nav mr-auto">
                        <li class="nav-item">
                            <a class="nav-link" href="/blogs/index.html" title="Blogs">Blogs</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blogs/Sci-Tech/index.html" title="Sci-Tech">Sci-Tech</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blogs/Lifestyle/index.html" title="Lifestyle">Lifestyle</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blogs/Food/index.html" title="Food">Food</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blogs/Travel/index.html" title="Travel">Travel</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/blogs/Social-Media/index.html" title="Social Media">Social Media</a>
                        </li>
                    </ul>
                    <ul class="navbar-nav">
                        <li class="nav-item">
                            <a class="nav-link" href="/about.html" title="About">About</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/links.html" title="Links">Links</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/privacy.html" title="Privacy">Privacy</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/terms-and-conditions.html" title="T & C">T & C</a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/contact.html" title="Contact">Contact</a>
                        </li>
                    </ul>
                </div>
            </nav>
        </div><!-- end container-fluid -->
        </header>

        <section class="section single-wrapper">
            <div class="container">
                <div class="row">
                    <div class="col-lg-10 col-md-12 col-sm-12 col-xs-12">
                        <div class="page-wrapper">
                            <div class="blog-title-area text-center">
                                <ol class="breadcrumb">
                                    <li class="breadcrumb-item"><a href="/">Home</a></li>
                                    <li class="breadcrumb-item"><a href="/blogs/index.html">Blog</a></li>
                                    <li class="breadcrumb-item"><a href="/blogs/Sci-Tech/index.html">Sci-Tech</a></li>
                                    <li class="breadcrumb-item"><a href="/blogs/Sci-Tech/Drupal/index.html">Drupal</a></li>
                                    <li class="breadcrumb-item active">Drupal7 Simple Test case in Custom Module</li>
                                </ol>

                                <!-- span class="color-orange"><a href="/blogs/Sci-Tech/index.html" title="Sci-Tech">Sci-Tech</a></span -->

                                <h1 class="read-article-title">Drupal7 Simple Test case in Custom Module</h1>

                                <div class="blog-meta big-meta">
                                    <small><i>12 Jul, 2015</i></small>
                                    <small class="author-by">by <i><a href="/authors/Karthik-Kumar-D-K.html">Karthik Kumar D K</a></i></small>
                                    <small class="read-article-section">
                                      <i class="fa fa-play read-article"> <div>Read Article</div></i>
                                      <i class="fa fa-pause read-article-pause"> <div>Pause</div></i>
                                      <i class="fa fa-play read-article-resume"> <div>Resume</div></i>
                                      <i class="fa fa-stop read-article-stop"> <div>Stop</div></i>
                                    </small>
                                </div><!-- end meta -->

                                <div class="post-sharing-top post-sharing"></div><!-- end post-sharing -->

                            </div><!-- end title -->

                            <div class="single-post-media">
                                <img loading="lazy" alt="People&#039;s BLOG" src="../../../upload/banner788x443/public/testcase.jpg" class="img-fluid">
                            </div><!-- end media -->

                            <div class="blog-content read-article-content">
                                <div><p>Why to write test case? Very simple, in one word, Its waste of time and effort of checking something we changed in code and that effects other part, and to make sure every time what change we make that should not effect any other code, so this task can be done by our test cases</p> <p><strong>In this article, giving a simple test example to create a drupal test case</strong></p> <ul> <li>Create a new PHP class that defines a test</li> <li>Provide Drupal with meta-data about your test</li> <li>Run your test to see if it works</li> </ul> <h4><strong>1. Start with creating a module</strong></h4> <p>Create a module "Simple Test" inside <code>sites/all/modules/custom/simple_test</code></p> <p>Create <code>simple_test.info</code> with the below content</p> <pre> name = Simple test core = 7.x </pre><p>Create <code>simple_test.module</code> with the below content</p> <pre> &lt;?php function simple_test_menu() { $items = array(); $items['simple_test'] = array( 'title' =&gt; 'Simple Test', 'access callback' =&gt; TRUE, 'page callback' =&gt; 'simple_test_page', 'type' =&gt; MENU_NORMAL_ITEM, 'menu' =&gt; 'navigation', ); return $items; } function simple_test_page() { return t('Welcome to Drupal. Its simple_test..!'); } </pre><p>Goto the modules page <code>admin/modules</code> and enable the Simple Test module</p> <p>Next goto the page which you created just now in the module <code>/simple_test</code>, you can see "Welcome to Drupal. Its simple_test..!" this test which you have returned.</p> <p>And, this is what we will be testing now</p> <h4><strong>2. Use "DrupalWebTestCase"</strong></h4> <p>A module can have one or more test cases, they can in single file or in many other files</p> <p>All test files should have am extention as <code>.test</code> and should be named as <code>MODULENAME.test</code></p> <p>Create your new test case <code>simple_test/tests/simple_test.test</code> file.</p> <p>All functional tests in Drupal should extend the <code>DrupalWebTestCase</code> class which will provide the utility functions used to drive the test browser, helper functions for interacting with a Drupal application, and all the assertions we will use to perform our actual tests.</p> <p>Add the below code to your <code>simple_test.test</code>. </p> <pre> &lt;?php class SimpleTest extends DrupalWebTestCase { } </pre><p>Add a <code>getInfo()</code> method to your <code>SimpleTest</code> class. This method returns an array that provides meta-data about our test that the SimpleTest module can use when displaying our test in the UI. This method is required in order for your test to work. This <code>getInfo()</code> method looks like shown below. </p> <pre> public static function getInfo() { return array( 'name' =&gt; 'Simple Test', 'description' =&gt; 'Tests for the Simple Test module.', 'group' =&gt; 'Simple Test Group', ); } </pre><p>Now add a <code>setUp()</code> method to <code>SimpleTest</code>. This method is called when the system is preparing the environment for running our tests. In this case, we need to ensure that our module is enable during setup so that the page we want to test is available. We can do this by calling the parent classes's setUp() method and passing it an array of modules we want enabled. This <code>setUp()</code> method looks like this</p> <pre> public function setUp() { parent::setUp(array('simple_test')); } </pre><p>Add a <code>test*()</code> method to our class. Each test case can have one or more methods whose names are prefixed with the string test. Each of these methods will be automatically called by the SimpleTest test runner, and should contain the various assertions required in order to demonstrate that this test is passing. This example will use the <code>DrupalWebTestCase::drupalGet()</code> method in order to tell the internal browser to navigate to the URL <code>/helloworld</code>. And then use the <code>DrupalWebTestCase::assertText()</code> method to verify that the string, "Hello World ...", exists somewhere in the HTML output of the page the internal browser is currently looking at.</p> <pre> public function test_your_simple_test() { $this-&gt;drupalGet('simple_test'); $this-&gt;assertText('Welcome to Drupal. Its simple_test..!', 'The page content is present.'); } </pre><p>And last, we need to tell Drupal about our new test. Update your <code>simple_test.info</code> file and add the following line so that after clearing the cache the registry will contain a reference to our new <code>SimpleTest</code> class.<br> </p><pre>files[] = tests/helloworld.test </pre><p><br></p> <h4><strong>3. Run Test.</strong></h4> <p>Clear the cache so Drupal locates our new test(s). Navigate to Configuration &gt; Performance (admin/config/development/performance) in the Toolbar, and then clicking the "Clear all caches" button.</p> <p>Navigate to Modules (admin/modules) in the Toolbar. Enable the Testing module in the Core section.</p> <p>Navigate to Configuration &gt; Testing (admin/config/development/testing).</p> <p>Select the checkbox for the "SimpleTest" test to run all tests in this group, or alternately tip the drop down open and choose the individual test case you want to run.</p> <p>Click the "Run tests" button.</p> <p>A new page will open and display a progress bar while your tests run.</p> <p>Once completed, you will be directed to a page with a table that shows the results of your tests.</p></div>
                            </div><!-- end content -->

                            <div class="blog-title-area tag">
                                <div class="tag-cloud-single">
                                    <span>Tags</span>
                                    <small><a href="/blogs/Sci-Tech/Drupal/index.html">Drupal</a></small>
                                </div><!-- end meta -->

                                <br/>
                                <!-- div class="post-sharing-top post-sharing"></div --><!-- end post-sharing -->

                            </div><!-- end title -->

                            <div class="ads-page-1"></div><!-- end ads-page-1 -->

                            <!-- hr class="invis1" -->
                            <!-- div class="prevnext-articles custombox prevnextpost clearfix"></div -->

                            <!-- hr class="invis1" -->
                            <div class="custombox clearfix">
                                <h4 class="small-title">Comments</h4>
                                <div class="row">
                                    <div class="col-lg-12">
                                        <div class="comments-list">
                                            <!-- script src="https://utteranc.es/client.js"
                                                    repo="kakumdk/kakumdk.github.io"
                                                    issue-term="url"
                                                    theme="github-light"
                                                    crossorigin="anonymous"
                                                    async>
                                            </script -->
                                            <div id="disqus_thread"></div>
                                            <script>
                                                (function() { // DONT EDIT BELOW THIS LINE
                                                    var d = document, s = d.createElement("script");
                                                    s.src = "https://peoplesblog.disqus.com/embed.js";
                                                    s.setAttribute("data-timestamp", +new Date());
                                                    (d.head || d.body).appendChild(s);
                                                })();
                                            </script>
                                            <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
                                            <script id="dsq-count-scr" src="//peoplesblog.disqus.com/count.js" async></script>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <hr class="invis0">
                            <div class="prevnext-articles custombox prevnextpost clearfix"></div>

                            <div class="ads-page-2"></div><!-- end ads-page-1 -->

                        </div><!-- end page-wrapper -->
                    </div><!-- end col -->

                    <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                        <div class="ads-article sidebar">

                        </div><!-- end sidebar -->
                    </div><!-- end col -->
                </div><!-- end row -->
            </div><!-- end container -->
        </section>

        <footer class="footer">
        <div class="container">
            <div class="row">
                <div class="col-lg-7">
                    <div class="widget">
                        <div class="footer-text text-left">
                            <a href="/"><img loading="lazy" alt="People&#039;s BLOG" src="../../../upload/logo_new.webp" class="img-fluid"></a>
                            <p>People&#039;s BLOG has a mixture of articles which came out of Thoughts, Ideas & Experiences of People behind this Blog, We generally write articles about Lifestyle, Travel, Food, Science & Technology.. <a class="read-more" href="/about.html">Read More >></a></p>
                            <div class="post-sharing-footer social">

                            </div>

                            <hr class="invis">

                            <div class="newsletter-widget-subscribe newsletter-widget text-left">
                                <form name="subscribe" action="https://docs.google.com/forms/u/0/d/e/1FAIpQLSewRpoqyq6TYnR_VU12LRPD1ahr2xP19akLcFhBjcylfPlWjw/formResponse" class="form-inline" target="_blank"><input type="text" class="form-control" placeholder="Enter your email address" name="entry.1045781291" required=""><button type="submit" class="newsletter-widget-subscribe-button btn btn-primary">Subscribe</button></form>
                            </div>

                        </div><!-- end footer-text -->
                    </div><!-- end widget -->
                </div><!-- end col -->

                <div class="col-lg-3 col-md-12 col-sm-12 col-xs-12">
                    <div class="widget">
                        <h2 class="widget-title">Popular Categories</h2>
                        <div class="link-widget">
                            <ul class="blog-list-homepage-footer">

                            </ul>
                        </div><!-- end link-widget -->
                    </div><!-- end widget -->
                </div><!-- end col -->

                <div class="col-lg-2 col-md-12 col-sm-12 col-xs-12">
                    <div class="widget">
                        <h2 class="widget-title">Misc</h2>
                        <div class="link-widget">
                            <ul>
                                <li><a title="About" href="/about.html">About</a></li>
                                <li><a title="Links" href="/links.html">Links</a></li>
                                <li><a title="Privacy" href="/privacy.html">Privacy</a></li>
                                <li><a title="T & C" href="/terms-and-conditions.html">T & C</a></li>
                                <li><a title="Contact" href="/contact.html">Contact</a></li>
                            </ul>
                        </div><!-- end link-widget -->
                    </div><!-- end widget -->
                </div><!-- end col -->
            </div>

            <div class="row">
                <div class="col-md-12 text-center">
                    <div class="copyright">
                            <span class="affliate"><br/>This site contains affiliate links to products. We may receive a commission for purchases made through these links. However, this does not impact our reviews and comparisons. We only suggest products we’ve reviewed, and in many instances also use, in order to help you make the best choices.</span>
                            <span class="_copyright">Copyright <i class="fa fa-copyright"></i> 2014 - 2021, People&#039;s BLOG</span>
                        </div>
                </div>
            </div>
        </div><!-- end container -->
        </footer>

        <div class="dmtop">Scroll to Top</div>
    </div><!-- end wrapper -->
    <!-- Core JavaScript
    ================================================== -->
    <script src="../../../js/jquery.min.js"></script>
    <script src="../../../js/jquery.validate.min.js"></script>
    <script src="../../../js/tether.min.js"></script>
    <script src="../../../js/bootstrap.min.js"></script>
    <script src="../../../js/custom.js"></script>

    <div id="policy-container"></div>

    <script type="text/javascript">
        function googleTranslateElementInit() {
            new google.translate.TranslateElement({pageLanguage: "es"}, "google_translate_element");
        }
    </script>
    <script type="text/javascript" src="//translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>

</body>
</html>
