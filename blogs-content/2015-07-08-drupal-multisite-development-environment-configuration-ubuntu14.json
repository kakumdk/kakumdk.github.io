{
  "content": {
    "title": "Drupal Multisite development environment Configuration in Ubuntu14",
    "created": "08 Jul, 2015",
    "author": "Karthik Kumar D K",
    "views": "463",
    "summary": "Goto to the folder /etc/apache2/sites-available, copy the existing 000-default.conf file to a new file testsite.localhost and make the changes inside the file as mentioned below",
    "content": "<p><strong>Prerequisite</strong> Requires a working drupal installation</p>\n                                <p><strong>Set up your hosts file</strong> Add the following lines to <code>/etc/hosts</code>:</p>\n                                <pre>127.0.0.1    testsite.localhost\n127.0.0.1    testsite2.localhost\n</pre><h3>Set up Virtual Hosts</h3>\n                                <p>Add the following code to <code>/etc/apache2/sites-available</code>:</p>\n                                <p>Goto to the folder <code>/etc/apache2/sites-available</code>, copy the existing <code>000-default.conf</code> file to a new file <code>testsite.localhost</code> and make the changes inside the file as mentioned below.</p>\n                                <pre><\\virtualhost>\n    DocumentRoot /var/www/drupal\n    ServerName testsite.localhost\n<\\/virtualhost>\n</pre><p>Do the same thing for <code>testsite2.localhost</code> also.</p>\n                                <p>After this, restart Apache:</p>\n                                <p><code>sudo /etc/init.d/apache2 restart</code></p>\n                                <h3>Set up your databases</h3>\n                                <p>Create the two databases <code>testsite</code> and the other <code>testsite2</code>.</p>\n                                <h3>Set up your sites folders</h3>\n                                <p>From the command prompt, navigate to <code>/var/www/drupal/sites/</code> or wherever you have your sites folder installed.</p>\n                                <p>The default directory will serve as a template for our other sites. Create a writable files directory in the default directory to make sure every one of your site folders get this directory:</p>\n                                <p><code>sudo mkdir -pm 777 default/files</code></p>\n                                <p>Copy the default directory to create your new site directories:</p>\n                                <p><code>sudo cp -a default/ testsite.localhost</code></p>\n                                <p><code>sudo cp -a default/ testsite2.localhost</code></p>\n                                <p>Rename the <code>default.settings.php</code> files to <code>settings.php</code> and change the permissions to make them writable, so that the web server can access them in step 7:</p>\n                                <p><code>sudo mv testsite.localhost/default.settings.php testsite.localhost/settings.php</code></p>\n                                <p><code>sudo mv testsite2.localhost/default.settings.php testsite2.localhost/settings.php</code></p>\n                                <p><code>sudo chmod a+w testsite.localhost/settings.php</code></p>\n                                <p><code>sudo chmod a+w testsite2.localhost/settings.php</code></p>\n                                <h3>Configure your sites to use the appropriate databases</h3>\n                                <p>In the <code>/var/www/drupal/sites/testsite.localhost/</code> directory, edit the <code>settings.php</code> file as follows</p>\n                                <pre>$databases = array (\n  'default' =&gt;\n  array (\n    'default' =&gt;\n    array (\n      'database' =&gt; 'testsite',\n      'username' =&gt; 'testuser',\n      'password' =&gt; 'password',\n      'host' =&gt; 'localhost',\n      'port' =&gt; '',\n      'driver' =&gt; 'mysql',\n      'prefix' =&gt; '',\n    ),\n  ),\n);\n</pre><p>Repeat for <code>/var/www/drupal/sites/testsite2.localhost/</code>, except replace <code>testsite</code> with <code>testsite2</code>.</p>\n                                <h3>Run the installation script for your sites</h3>\n                                <p>In a web browser, visit <code>http://testsite.localhost/install.php</code>.</p>\n                                <h3>Remove write permissions from your sites <code>settings.php</code> files</h3>\n                                <p>From the command prompt, navigate to <code>/var/www/drupal/sites</code> and remove the write permissions for the <code>settings.php</code> files:</p>\n                                <p><code>sudo chmod a-w testsite.localhost/settings.php</code></p>\n                                <p><code>sudo chmod a-w testsite2.localhost/settings.php</code></p>\n                                <h3>You're done!</h3>\n                                <p>You can visit your sites at:</p>\n                                <p><code>http://testsite.localhost/index.php</code></p>\n                                <p><code>http://testsite2.localhost/index.php</code></p>\n                                <p>Thank you :)</p>",
    "type": "Sci-Tech",
    "category": "Drupal",
    "banner394x449": "upload/banner394x449/public/drupalconf_screenshot.png",
    "banner600x500": "upload/banner600x500/public/drupalconf_screenshot.png",
    "banner788x443": "upload/banner788x443/public/drupalconf_screenshot.png",
    "banner800x460": "upload/banner800x460/public/drupalconf_screenshot.png",
    "file": "2015-07-08-drupal-multisite-development-environment-configuration-ubuntu14.json"
  }
}